"use strict";function e(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e){if(Array.isArray(e))return e}function r(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var i=true;var o=false;var a,c;try{for(r=r.call(e);!(i=(a=r.next()).done);i=true){n.push(a.value);if(t&&n.length===t)break}}catch(e){o=true;c=e}finally{try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return n}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,i){return t(e)||r(e,i)||o(e,i)||n()}function o(t,r){if(!t)return;if(typeof t==="string")return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}var Utils=function(){var e=function e(e,t){return e.getAttribute(t)||""};var t=function e(e){var t=getComputedStyle(e);if(t.display==="none"||t.visibility!=="visible"||t.opacity&&Number(t.opacity)<.1)return!1;var r,n=window.innerHeight,i=e.getBoundingClientRect(),o=i.height,a=i.y,c=a+o,u={x:i.x+e.offsetWidth/2,y:i.y+e.offsetHeight/2};if(o<=n){if(e.offsetWidth+i.width===0||e.offsetHeight+i.height===0||u.x<0||u.x>(document.documentElement.clientWidth||window.innerWidth)||u.y<0||u.y>(document.documentElement.clientHeight||window.innerHeight))return!1;r=document.elementFromPoint(u.x,u.y)}else{var s=n/2;if(a<0&&c<s||c>n&&a>s)return!1;r=document.elementFromPoint(u.x,n/2)}if(r)do if(r===e)return!0;while(r=r.parentElement);return!1};var r=function e(e){if(e==="true")return!0;if(e==="false")return!1;var t=Number(e);return e==t&&e!==""?t:String(e)};var n=function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;for(var t="",r=36;t.length<e;)t+=(Math.random()*r|0).toString(r);return t};var o=function e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r={},n=Object.assign({utm_campaign:"campaign",utm_content:"content",dclid:"clickId",fbclid:"clickId",gclid:"clickId",utm_medium:"medium",msclkid:"clickId",utm_source:"source",utm_term:"term"},t);return Object.entries(n).forEach(function(t){var n=i(t,2),o=n[0],a=n[1];var c=e.searchParams.get(o);c&&(r[a]=c)}),r};var a=function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var t=e.isNew||!1;if(!t){var r=i(performance.getEntriesByType("navigation"),1),a=r[0];if(a.type!=="navigate")return!1}var c=new URL(e.url||window.location.href),u=e.referrer||document.referrer,s=u&&new URL(u).hostname,l={},f=o(c,e.parameters);if(Object.keys(f).length&&(l.marketing=!0,t=!0),!t){var d=e.domains||[];d.push(c.hostname),t=!d.includes(s)}return t?(s&&(l.referrer=s),Object.assign(l,{id:l.id||n(12)},f,e.data),l):!1};var c=function e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.Utils.Storage.Session;switch(t){case p.Utils.Storage.Cookie:s(e,"",0,t);break;case p.Utils.Storage.Local:window.localStorage.removeItem(e);break;case p.Utils.Storage.Session:window.sessionStorage.removeItem(e);break}};var u=function e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.Utils.Storage.Session;function n(e){try{return JSON.parse(e||"")}catch(n){var t=1,r="";return e&&(t=0,r=e),{e:t,v:r}}}var i,o;switch(t){case p.Utils.Storage.Cookie:var a;i=decodeURIComponent(((a=document.cookie.split("; ").find(function(t){return t.startsWith(e+"=")}))===null||a===void 0?void 0:a.split("=")[1])||"");break;case p.Utils.Storage.Local:o=n(window.localStorage.getItem(e));break;case p.Utils.Storage.Session:o=n(window.sessionStorage.getItem(e));break}return o&&(i=o.v,o.e!=0&&o.e<Date.now()&&(c(e,t),i="")),r(i||"")};var s=function e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:30,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.Utils.Storage.Session,i=arguments.length>4?arguments[4]:void 0;var o={e:Date.now()+6e4*r,v:String(t)},a=JSON.stringify(o);switch(n){case p.Utils.Storage.Cookie:var c="".concat(e,"=").concat(encodeURIComponent(t),"; max-age=").concat(r*60,"; path=/; SameSite=Lax; secure");i&&(c+="; domain="+i),document.cookie=c;break;case p.Utils.Storage.Local:window.localStorage.setItem(e,a);break;case p.Utils.Storage.Session:window.sessionStorage.setItem(e,a);break}return u(e,n)};var l=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var g=function(e,t){for(var r in t)l(e,r,{get:t[r],enumerable:!0})},m=function(e,t,r,n){var i=true,o=false,a=undefined;if(t&&typeof t=="object"||typeof t=="function")try{var c=function(){var i=s.value;!v.call(e,i)&&i!==r&&l(e,i,{get:function(){return t[i]},enumerable:!(n=f(t,i))||n.enumerable})};for(var u=d(t)[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true)c()}catch(e){o=true;a=e}finally{try{if(!i&&u.return!=null){u.return()}}finally{if(o){throw a}}}return e};var h=function(e){return m(l({},"__esModule",{value:!0}),e)};var y={};g(y,{getAttribute:function(){return e},isVisible:function(){return t},sessionStart:function(){return a},storageDelete:function(){return c},storageRead:function(){return u},storageWrite:function(){return s}});var b={Action:"action",Config:"config",Consent:"consent",Context:"context",Destination:"destination",Elb:"elb",Globals:"globals",Hook:"hook",Init:"init",Link:"link",Prefix:"data-elb",Run:"run",User:"user",Walker:"walker"},S={Cookie:"cookie",Local:"local",Session:"session"},w={Storage:S},p={Commands:b,Utils:w};return h(y)}();