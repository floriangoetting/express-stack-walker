function u(t=6){for(var e="",r=36;e.length<t;)e+=(Math.random()*r|0).toString(r);return e}function c(t,e={}){let r={},s=Object.assign({utm_campaign:"campaign",utm_content:"content",dclid:"clickId",fbclid:"clickId",gclid:"clickId",utm_medium:"medium",msclkid:"clickId",utm_source:"source",utm_term:"term"},e);return Object.entries(s).forEach(([o,n])=>{let i=t.searchParams.get(o);i&&(r[n]=i)}),r}function g(t={}){let e=t.isNew||!1;if(!e){let[a]=performance.getEntriesByType("navigation");if(a.type!=="navigate")return!1}let r=new URL(t.url||window.location.href),s=t.referrer||document.referrer,o=s&&new URL(s).hostname,n={},i=c(r,t.parameters);if(Object.keys(i).length&&(n.marketing=!0,e=!0),!e){let a=t.domains||[];a.push(r.hostname),e=!a.includes(o)}return e?(o&&(n.referrer=o),Object.assign(n,{id:n.id||u(12)},i,t.data),n):!1}export{g as sessionStart};
