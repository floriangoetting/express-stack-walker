"use strict";var l=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var x=(e,t)=>{for(var o in t)l(e,o,{get:t[o],enumerable:!0})},w=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of k(t))!y.call(e,r)&&r!==o&&l(e,r,{get:()=>t[r],enumerable:!(i=S(t,r))||i.enumerable});return e};var P=e=>w(l({},"__esModule",{value:!0}),e);var v={};x(v,{storageDelete:()=>m,storageRead:()=>d,storageWrite:()=>p});module.exports=P(v);var h={Action:"action",Config:"config",Consent:"consent",Context:"context",Destination:"destination",Elb:"elb",Globals:"globals",Hook:"hook",Init:"init",Link:"link",Prefix:"data-elb",Run:"run",User:"user",Walker:"walker"},b={Cookie:"cookie",Local:"local",Session:"session"},R={Storage:b},n={Commands:h,Utils:R};function f(e){if(e==="true")return!0;if(e==="false")return!1;let t=Number(e);return e==t&&e!==""?t:String(e)}function m(e,t=n.Utils.Storage.Session){switch(t){case n.Utils.Storage.Cookie:p(e,"",0,t);break;case n.Utils.Storage.Local:window.localStorage.removeItem(e);break;case n.Utils.Storage.Session:window.sessionStorage.removeItem(e);break}}function d(e,t=n.Utils.Storage.Session){var u;function o(s){try{return JSON.parse(s||"")}catch(c){let a=1,g="";return s&&(a=0,g=s),{e:a,v:g}}}let i,r;switch(t){case n.Utils.Storage.Cookie:i=decodeURIComponent(((u=document.cookie.split("; ").find(s=>s.startsWith(e+"=")))==null?void 0:u.split("=")[1])||"");break;case n.Utils.Storage.Local:r=o(window.localStorage.getItem(e));break;case n.Utils.Storage.Session:r=o(window.sessionStorage.getItem(e));break}return r&&(i=r.v,r.e!=0&&r.e<Date.now()&&(m(e,t),i="")),f(i||"")}function p(e,t,o=30,i=n.Utils.Storage.Session,r){let s={e:Date.now()+6e4*o,v:String(t)},c=JSON.stringify(s);switch(i){case n.Utils.Storage.Cookie:let a=`${e}=${encodeURIComponent(t)}; max-age=${o*60}; path=/; SameSite=Lax; secure`;r&&(a+="; domain="+r),document.cookie=a;break;case n.Utils.Storage.Local:window.localStorage.setItem(e,c);break;case n.Utils.Storage.Session:window.sessionStorage.setItem(e,c);break}return d(e,i)}0&&(module.exports={storageDelete,storageRead,storageWrite});
