"use strict";function e(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e){if(Array.isArray(e))return e}function r(t){if(Array.isArray(t))return e(t)}function n(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var i=true;var o=false;var a,u;try{for(r=r.call(e);!(i=(a=r.next()).done);i=true){n.push(a.value);if(t&&n.length===t)break}}catch(e){o=true;u=e}finally{try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw u}}return n}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,r){return t(e)||i(e,r)||f(e,r)||o()}function c(e){return r(e)||n(e)||f(e)||a()}function l(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function f(t,r){if(!t)return;if(typeof t==="string")return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}var Utils=function(){var e=function e(e){throw new Error(String(e))};var t=function e(e,t){return(typeof e==="undefined"?"undefined":l(e))==(typeof t==="undefined"?"undefined":l(t))};var r=function e(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}try{return e.apply(void 0,c(n))}catch(e){return t?t(e):void 0}}};var n=function n(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t(n,{})||e("Invalid object");var o,a,l;var f;t(n.event,"")?(o=n.event,f=u(o.split(" "),2),a=f[0],l=f[1],f,(!a||!l)&&e("Invalid event name")):t(n.entity,"")&&t(n.action,"")?(a=n.entity,l=n.action,o="".concat(a," ").concat(l)):e("Missing or invalid event, entity, or action");var d={"*":{"*":{event:{maxLength:255},user:{allowedKeys:["id","device","session"]},consent:{allowedValues:[!0,!1]},timestamp:{min:0},timing:{min:0},count:{min:0},version:{allowedKeys:["client","tagging"]},source:{allowedKeys:["type","id","previous_id"]}}}},s={event:o,data:{},context:{},custom:{},globals:{},user:{},nested:[],consent:{},id:"",trigger:"",entity:a,action:l,timestamp:0,timing:0,group:"",count:0,version:{client:"",tagging:0},source:{type:"",id:"",previous_id:""}};return[d].concat(i).reduce(function(e,t){return["*",a].reduce(function(e,r){return["*",l].reduce(function(e,n){var i;var o=(i=t[r])===null||i===void 0?void 0:i[n];return o?e.concat([o]):e},e)},e)},[]).reduce(function(i,o){var a=Object.keys(o).filter(function(e){var t;return((t=o[e])===null||t===void 0?void 0:t.required)===!0});return c(Object.keys(n)).concat(c(a)).reduce(function(i,a){var u=o[a],c=n[a];return u&&(c=r(m,function(t){e(String(t))})(i,a,c,u)),t(c,i[a])&&(i[a]=c),i},i)},s)};var i=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var d=function(e,t){for(var r in t)i(e,r,{get:t[r],enumerable:!0})},s=function(e,t,r,n){var u=true,c=false,l=undefined;if(t&&typeof t=="object"||typeof t=="function")try{var d=function(){var a=y.value;!f.call(e,a)&&a!==r&&i(e,a,{get:function(){return t[a]},enumerable:!(n=o(t,a))||n.enumerable})};for(var s=a(t)[Symbol.iterator](),y;!(u=(y=s.next()).done);u=true)d()}catch(e){c=true;l=e}finally{try{if(!u&&s.return!=null){s.return()}}finally{if(c){throw l}}}return e};var y=function(e){return s(i({},"__esModule",{value:!0}),e)};var v={};d(v,{validateEvent:function(){return n},validateProperty:function(){return m}});function m(n,i,o,a){if(a.validate&&(o=r(a.validate,function(t){e(String(t))})(o,i,n)),a.required&&o===void 0&&e("Missing required property"),t(o,""))a.maxLength&&o.length>a.maxLength&&(a.strict&&e("Value exceeds maxLength"),o=o.substring(0,a.maxLength));else if(t(o,1))t(a.min,1)&&o<a.min?(a.strict&&e("Value below min"),o=a.min):t(a.max,1)&&o>a.max&&(a.strict&&e("Value exceeds max"),o=a.max);else if(t(o,{})){if(a.schema){var c=a.schema;Object.keys(c).reduce(function(t,n){var i=c[n],o=t[n];return i&&(i.type&&(typeof o==="undefined"?"undefined":l(o))!==i.type&&e("Type doesn't match (".concat(n,")")),o=r(m,function(t){e(String(t))})(t,n,o,i)),o},o)}var f=true,d=false,s=undefined;try{for(var y=Object.entries(o)[Symbol.iterator](),v;!(f=(v=y.next()).done);f=true){var p=u(v.value,2),b=p[0],g=p[1];a.allowedKeys&&!a.allowedKeys.includes(b)&&(a.strict&&e("Key not allowed"),delete o[b])}}catch(e){d=true;s=e}finally{try{if(!f&&y.return!=null){y.return()}}finally{if(d){throw s}}}}return o}return y(v)}();