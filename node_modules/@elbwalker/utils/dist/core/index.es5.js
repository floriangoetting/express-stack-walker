"use strict";function e(e,n){if(n==null||n>e.length)n=e.length;for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function n(e){if(Array.isArray(e))return e}function t(n){if(Array.isArray(n))return e(n)}function r(e,n,t,r,i,o,u){try{var a=e[o](u);var c=a.value}catch(e){t(e);return}if(a.done){n(c)}else{Promise.resolve(c).then(r,i)}}function i(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var u=e.apply(n,t);function a(e){r(u,i,o,a,c,"next",e)}function c(e){r(u,i,o,a,c,"throw",e)}a(undefined)})}}function o(e,n,t){if(n in e){Object.defineProperty(e,n,{value:t,enumerable:true,configurable:true,writable:true})}else{e[n]=t}return e}function u(e,n){if(n!=null&&typeof Symbol!=="undefined"&&n[Symbol.hasInstance]){return!!n[Symbol.hasInstance](e)}else{return e instanceof n}}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e,n){var t=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t==null)return;var r=[];var i=true;var o=false;var u,a;try{for(t=t.call(e);!(i=(u=t.next()).done);i=true){r.push(u.value);if(n&&r.length===n)break}}catch(e){o=true;a=e}finally{try{if(!i&&t["return"]!=null)t["return"]()}finally{if(o)throw a}}return r}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};var r=Object.keys(t);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}r.forEach(function(n){o(e,n,t[n])})}return e}function v(e,t){return n(e)||c(e,t)||m(e,t)||l()}function d(e){return t(e)||a(e)||m(e)||f()}function y(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function m(n,t){if(!n)return;if(typeof n==="string")return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor)r=n.constructor.name;if(r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(n,t)}function p(e,n){var t,r,i,o,u={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),"throw":a(1),"return":a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(n){return c([e,n])}}function c(o){if(t)throw new TypeError("Generator is already executing.");while(u)try{if(t=1,r&&(i=o[0]&2?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;if(r=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:false};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){u=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(o[0]===6&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}if(i[2])u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}var Utils=function(){var e=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.entries(n).forEach(function(t){var r=v(t,2),i=r[0],o=r[1];var u=e[i];Array.isArray(u)&&Array.isArray(o)&&(n[i]=o.reduce(function(e,n){return e.includes(n)?e:d(e).concat([n])},d(u)))}),s({},e,n)};var n=function e(e){if(e==="true")return!0;if(e==="false")return!1;var n=Number(e);return e==n&&e!==""?n:String(e)};var t=function e(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return n.split(".").reduce(function(e,n){if(n=="*"&&(n=String(t)),u(e,Object))return e[n]},e)};var r=function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;for(var n="",t=36;n.length<e;)n+=(Math.random()*t|0).toString(t);return n};var o=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var t={},r=Object.assign({utm_campaign:"campaign",utm_content:"content",dclid:"clickId",fbclid:"clickId",gclid:"clickId",utm_medium:"medium",msclkid:"clickId",utm_source:"source",utm_term:"term"},n);return Object.entries(r).forEach(function(n){var r=v(n,2),i=r[0],o=r[1];var u=e.searchParams.get(i);u&&(t[o]=u)}),t};var a=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;var t;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++){i[o]=arguments[o]}return clearTimeout(t),new Promise(function(r){t=setTimeout(function(){r(e.apply(void 0,d(i)))},n)})}};var c=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;var t=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++){i[o]=arguments[o]}if(t===null)return t=setTimeout(function(){t=null},n),e.apply(void 0,d(i))}};var l=function e(e,n){return(typeof e==="undefined"?"undefined":y(e))==(typeof n==="undefined"?"undefined":y(n))};var f=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&console.dir(e,{depth:4})};var m=function e(e){throw new Error(String(e))};var b=function e(e){return e?e.trim().replace(/^'|'$/g,"").trim():""};var g=function e(e,n){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}try{return e.apply(void 0,d(r))}catch(e){return n?n(e):void 0}}};var h=function e(e,n){return i(function(){var t,r,i,o,u;var a=arguments;return p(this,function(c){switch(c.label){case 0:for(t=a.length,r=new Array(t),i=0;i<t;i++){r[i]=a[i]}c.label=1;case 1:c.trys.push([1,3,,7]);return[4,e.apply(void 0,d(r))];case 2:return[2,c.sent()];case 3:o=c.sent();if(!n)return[3,5];return[4,n(o)];case 4:u=c.sent();return[3,6];case 5:u=void 0;c.label=6;case 6:return[2,u];case 7:return[2]}})})};var w=function e(e,n,t){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++){i[o]=arguments[o]}var u,a="pre"+n,c="post"+n,l=t[a],f=t[c];return l?u=l.apply(void 0,[{fn:e}].concat(d(i))):u=e.apply(void 0,d(i)),f&&(u=f.apply(void 0,[{fn:e,result:u}].concat(d(i)))),u}};var S=function e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l(e,{})||m("Invalid object");var t,r,i;var o;l(e.event,"")?(t=e.event,o=v(t.split(" "),2),r=o[0],i=o[1],o,(!r||!i)&&m("Invalid event name")):l(e.entity,"")&&l(e.action,"")?(r=e.entity,i=e.action,t="".concat(r," ").concat(i)):m("Missing or invalid event, entity, or action");var u={"*":{"*":{event:{maxLength:255},user:{allowedKeys:["id","device","session"]},consent:{allowedValues:[!0,!1]},timestamp:{min:0},timing:{min:0},count:{min:0},version:{allowedKeys:["client","tagging"]},source:{allowedKeys:["type","id","previous_id"]}}}},a={event:t,data:{},context:{},custom:{},globals:{},user:{},nested:[],consent:{},id:"",trigger:"",entity:r,action:i,timestamp:0,timing:0,group:"",count:0,version:{client:"",tagging:0},source:{type:"",id:"",previous_id:""}};return[u].concat(n).reduce(function(e,n){return["*",r].reduce(function(e,t){return["*",i].reduce(function(e,r){var i;var o=(i=n[t])===null||i===void 0?void 0:i[r];return o?e.concat([o]):e},e)},e)},[]).reduce(function(n,t){var r=Object.keys(t).filter(function(e){var n;return((n=t[e])===null||n===void 0?void 0:n.required)===!0});return d(Object.keys(e)).concat(d(r)).reduce(function(n,r){var i=t[r],o=e[r];return i&&(o=g(K,function(e){m(String(e))})(n,r,o,i)),l(o,n[r])&&(n[r]=o),n},n)},a)};var O=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var A=function(e,n){for(var t in n)O(e,t,{get:n[t],enumerable:!0})},I=function(e,n,t,r){var i=true,o=false,u=undefined;if(n&&typeof n=="object"||typeof n=="function")try{var a=function(){var i=l.value;!x.call(e,i)&&i!==t&&O(e,i,{get:function(){return n[i]},enumerable:!(r=k(n,i))||r.enumerable})};for(var c=j(n)[Symbol.iterator](),l;!(i=(l=c.next()).done);i=true)a()}catch(e){o=true;u=e}finally{try{if(!i&&c.return!=null){c.return()}}finally{if(o){throw u}}}return e};var P=function(e){return I(O({},"__esModule",{value:!0}),e)};var E={};A(E,{Const:function(){return T},assign:function(){return e},castValue:function(){return n},debounce:function(){return a},getByStringDot:function(){return t},getId:function(){return r},getMarketingParameters:function(){return o},isSameType:function(){return l},onLog:function(){return f},throttle:function(){return c},throwError:function(){return m},trim:function(){return b},tryCatch:function(){return g},tryCatchAsync:function(){return h},useHooks:function(){return w},validateEvent:function(){return S},validateProperty:function(){return K}});var C={Action:"action",Config:"config",Consent:"consent",Context:"context",Destination:"destination",Elb:"elb",Globals:"globals",Hook:"hook",Init:"init",Link:"link",Prefix:"data-elb",Run:"run",User:"user",Walker:"walker"},_={Cookie:"cookie",Local:"local",Session:"session"},L={Storage:_},T={Commands:C,Utils:L};function K(e,n,t,r){if(r.validate&&(t=g(r.validate,function(e){m(String(e))})(t,n,e)),r.required&&t===void 0&&m("Missing required property"),l(t,""))r.maxLength&&t.length>r.maxLength&&(r.strict&&m("Value exceeds maxLength"),t=t.substring(0,r.maxLength));else if(l(t,1))l(r.min,1)&&t<r.min?(r.strict&&m("Value below min"),t=r.min):l(r.max,1)&&t>r.max&&(r.strict&&m("Value exceeds max"),t=r.max);else if(l(t,{})){if(r.schema){var i=r.schema;Object.keys(i).reduce(function(e,n){var t=i[n],r=e[n];return t&&(t.type&&(typeof r==="undefined"?"undefined":y(r))!==t.type&&m("Type doesn't match (".concat(n,")")),r=g(K,function(e){m(String(e))})(e,n,r,t)),r},t)}var o=true,u=false,a=undefined;try{for(var c=Object.entries(t)[Symbol.iterator](),f;!(o=(f=c.next()).done);o=true){var s=v(f.value,2),d=s[0],p=s[1];r.allowedKeys&&!r.allowedKeys.includes(d)&&(r.strict&&m("Key not allowed"),delete t[d])}}catch(e){u=true;a=e}finally{try{if(!o&&c.return!=null){c.return()}}finally{if(u){throw a}}}}return t}return P(E)}();